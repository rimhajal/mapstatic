import pandas as pd 
import numpy as np 
import plotly.express as xp 
import json 
import requests 




#création Map 
Map=px.choropleth(df_consommation_departement,
            geojson="https://france-geojson.gregoiredavid.fr/repo/departements.geojson",
            featureidkey='properties.nom',
            locations='nom_departement',
            color='Consommation annuelle moyenne par departement (MWh)',
            color_continuous_scale="Viridis",
            title="Consommation d'électricité par département" ,  
            scope='europe'
            )
Map.update_geos(fitbounds="locations", visible=False)
Map.update_layout(margin={"r":0,"t":0,"l":0,"b":0})
    


Map.show()
